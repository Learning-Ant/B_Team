<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.koreait.baraON.dao.PlaceDao2">
	
	<select id="allPlaceSearch"  parameterType="com.koreait.baraON.dto.PlaceDto" resultType="com.koreait.baraON.dto.PlaceListDto">
		SELECT *
		FROM PLACE
		WHERE S_NO = #{s_no} AND P_DELETE = 0
	</select>
	
	<select id="placeCaSearch"  parameterType="com.koreait.baraON.dto.PlaceDto" resultType="com.koreait.baraON.dto.PlaceListDto">
		SELECT *
		FROM PLACE
		WHERE S_NO=#{s_no} AND PC_NO=#{pc_no} P_DELETE = 0
	</select>
	
	<select id="allPlaceSearch2"  parameterType="com.koreait.baraON.dto.PlaceDto" resultType="com.koreait.baraON.dto.PlaceListDto">
		SELECT *
		FROM PLACE
		WHERE S_NO = #{s_no} AND P_DELETE = 1
	</select>

	<select id="placeCaSearch2"  parameterType="com.koreait.baraON.dto.PlaceDto" resultType="com.koreait.baraON.dto.PlaceListDto">
		SELECT *
		FROM PLACE
		WHERE S_NO=#{s_no} AND PC_NO=#{pc_no} P_DELETE = 1
	</select>
	
	<select id="placeList" resultType="com.koreait.baraON.dto.ReviewCheckDto">
		SELECT B.*
			FROM (SELECT A.*, ROWNUM AS RN 
				FROM (SELECT *
					  FROM PLACE
					  ORDER BY P_NO DESC) A) B
			  WHERE B.RN BETWEEN #{param1} AND #{param2} 
	</select>
	
	<select id="placeCount" resultType="int">
		SELECT COUNT(*)
		FROM PLACE
	</select>
	
	
</mapper>